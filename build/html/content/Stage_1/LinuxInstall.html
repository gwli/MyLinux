<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>linux 和选择 &mdash; My Linux 0.3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="My Linux 0.3 documentation" href="../../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">My Linux 0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="linux">
<h1>linux 和选择<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h1>
<p>其实只要看到每一个事情起源就自然明白其源由了，例如这么多linux，到底各有什么区别，只要再一下其各个发展史，以及先后顺序就知道了。例如 apt-get dpkg这种方式是debian首创的。 后面系统都会吸取前面系统的优点。 gentoo是出现最迟的，当然也就是优点更多一些了。</p>
<p><a class="reference external" href="http://www.jb51.net/article/32657.htm">linux服务器系统CentOS、uBuntu、Gentoo、FreeBSD、Debian的比较</a>
redhat由于追求稳定性，而发展太慢。而ubuntu 则是通过快速的迭代用的新的技术也保证稳定性。那也就是敏捷也追求吧。这也是 <a class="reference external" href="http://www.zhihu.com/question/24180649">为什么ubuntu server在逐步蚕食CentOS的市场份额？</a>  由于技术本质就是求新求快。例如redhat 中自带的python现在还是2.6。 这些采用自己安装。当然他有一些自己特定的优势。但是长期是谬论， python 2.7 肯定比2.6要更强，更稳定。不管的你的内核更稳定，你的用python不行，还是不行的。当然还得瓶颈是在哪里。</p>
</div>
<div class="section" id="usb">
<h1>usb 启动盘制作<a class="headerlink" href="#usb" title="Permalink to this headline">¶</a></h1>
<p>要想让其可启动，就要让BIOS能够认出来，也就是BIOS本身具有相应的驱动，或者中间的转接，然后是在其引导有引导代码类似于grub的代码能执行，并加载相应的kernel.</p>
<p><a class="reference external" href="http://www.imsiren.com/archives/917">用AT&amp;T 汇编实现 第一个bootloader</a>   BIOS 通电-将磁盘第一个扇区512字节copy到内存的0x0000:0x7c0处，并将CS寄存器设置为0x0000,IP设置为0x07c0, 因为现在CPU处于实模式下，所以CPU下一条将要执行的指令就是CS:IP 将是 0x:0000:0x7c0, 这样就能挂靠 到我们写的bootloader了。</p>
<p>所以只要把USB变成可引导盘，并且分区格式化并不会影响MBR，因为这个是分区之外的事情。 然后就可以像里面copy kernel了。这也就是为什么，今天直接往U盘copy 光盘内容就可以用了的原因。</p>
<div class="section" id="software-install-apt-get">
<h2>software install apt-get<a class="headerlink" href="#software-install-apt-get" title="Permalink to this headline">¶</a></h2>
<p>One of the key function is process the package denpendencies.  this is a troubleness on linux. but the apt-get help to handle them.</p>
<p>as long as,you use share resource with each other, there must be an issue of dependencies. kernel module has this issue. system package has this issue.  dependency is anywhere of linux system.</p>
<p>so there are so many managetools. for ubuntu and debian there is apt-get, dpkg, for SUSE there are zypper and yaST. for Centos and Redhat , there is yup.</p>
<p>gentoo also has its own package system and configuration management system.</p>
<p>sourcelist support three source</p>
<ol class="arabic simple">
<li>deb</li>
<li>deb-src</li>
<li>ppa</li>
<li><a class="reference external" href="http://www.cnblogs.com/cute/archive/2012/05/21/2511571.html">add-apt-repository</a>  ,`PPA &lt;How do I use software from a PPA?]] [[<a class="reference external" href="https://launchpad.net/ubuntu/+ppas">https://launchpad.net/ubuntu/+ppas</a>&gt;`_  is Personal Package Archives (PPA) allow you to upload Ubuntu source packages to be built and published as an apt repository by Launchpad.</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>apt-get --yes install $something

is that it will ask for a manual confirmation if the package signature owner&#39;s public-key is not in the keyring, or some other conditions. to be sure it does not ask a confirmation just do this:

apt-get --yes --force-yes install $something

If you want to have these settings permanent, create a file in /etc/apt/apt.conf.d/, like /etc/apt/apt.conf.d/90forceyes with the following content:

APT::Get::Assume-Yes &quot;true&quot;;
APT::Get::force-yes &quot;true&quot;;
apt-cache search 库。

// get the lib url
apt-cache policy &quot;xxxlib&quot;
</pre></div>
</div>
<p>在17.10之后，就可以直接使用 apturl 来直接从网址安装了，<a class="reference external" href="https://help.ubuntu.com/community/AptURL">https://help.ubuntu.com/community/AptURL</a></p>
</div>
<div class="section" id="pgp-key-error-key">
<h2>如果出现 出现PGP key error 缺 key<a class="headerlink" href="#pgp-key-error-key" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 437D05B5 3E5C1192
sudo apt-get update
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h1>如何修复依赖破坏的包<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://help.ubuntu.com/community/AptGet/Howto">https://help.ubuntu.com/community/AptGet/Howto</a></p>
<div class="highlight-bash"><div class="highlight"><pre>apt -f install
auto-apt ./configure
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h1>多版本安装<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h1>
<p>就像python 可以有自己的virtualenv, 对于系统级的其他应用可以用alternatives 命令的相关方式。来管进行管理
配置。</p>
<div class="highlight-bash"><div class="highlight"><pre>alternatives -install XX
update-alternatives
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h1>如何自动添加编译的包<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://wiki.ubuntu.com/AutoDeb">https://wiki.ubuntu.com/AutoDeb</a></p>
</div>
<div class="section" id="deb">
<h1>如果想添加不同架构的deb<a class="headerlink" href="#deb" title="Permalink to this headline">¶</a></h1>
<p>可以用 APT::Architectures
http://stackoverflow.com/questions/6331109/how-to-setup-multiple-architecture-development-environment-under-ubuntu-11-04
或者使用 dpkg &#8211;add-architecture arm64 这样来实现。或者安装某一个包时直接使用 <em>xxx:&lt;arch&gt;</em> 例如 <cite>libglog4cxx10-dev:i386</cite></p>
<p>同时还可以下载代码 <cite>apt-get source package-name</cite> 就可以直接下载当前目录了。</p>
</div>
<div class="section" id="package">
<h1>如何安装新版本上的package<a class="headerlink" href="#package" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><p class="first">直接使用 Pin的方法，本质就是添加新版本的源，以及修改 /etc/apt/preferences <a class="reference external" href="https://help.ubuntu.com/community/PinningHowto">https://help.ubuntu.com/community/PinningHowto</a></p>
</li>
<li><p class="first">自己从源码编译</p>
<div class="highlight-bash"><div class="highlight"><pre>apt-add-repository <span class="s2">&quot;deb-src .....&quot;</span>
apt-get update
apt-get build-dep firefox-3.0
apt-get -b <span class="nb">source</span> -t <span class="s2">&quot;release branch&quot;</span> firefox-3.0
make <span class="o">&amp;&amp;</span> make install
</pre></div>
</div>
</li>
<li><p class="first">直接使用 <a class="reference external" href="https://help.ubuntu.com/community/UbuntuBackports">UbuntuBackports</a></p>
</li>
</ol>
</div>
<div class="section" id="id4">
<h1>如何保持一个包不更新<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="troubleshot">
<h1>如何troubleshot 包管理<a class="headerlink" href="#troubleshot" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://help.ubuntu.com/community/PackageManagerTroubleshootingProcedure">https://help.ubuntu.com/community/PackageManagerTroubleshootingProcedure</a></p>
</div>
<div class="section" id="id5">
<h1>如何查看所有可用更新<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><p class="first"><strong class="command">aptitude search '~U'</strong></p>
</li>
<li><p class="first">可用命令</p>
<div class="highlight-bash"><div class="highlight"><pre>apt list
apt search
apt full-upgrade
apt install
apt remove
</pre></div>
</div>
</li>
<li><p class="first">aptdcon, 这个可以把安装放在队列里，以及不需要root,而不需要人为等另一个install 完成。</p>
</li>
<li><p class="first">同时采用 apt-extracttemplate 把当前系统安装包生成template. 然后在其他机器上安装。</p>
</li>
</ol>
</div>
<div class="section" id="id6">
<h1>源列表格式<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://manpages.ubuntu.com/manpages/wily/man5/sources.list.5.html">http://manpages.ubuntu.com/manpages/wily/man5/sources.list.5.html</a></p>
<ol class="arabic simple">
<li><a class="reference external" href="http://windorain.net/sources-list-format/">源列表格式说明</a> , <a class="reference external" href="http://blog.csdn.net/xizaizhuanyong_/article/details/8170093">说明名2</a></li>
<li><a class="reference external" href="http://hi.baidu.com/penglaiguoguo/item/385acb1553da648c88a9569e">apt-get  代理设置</a></li>
<li><a class="reference external" href="http://www.debian.org/doc/manuals/apt-howto/ch-basico.zh-cn.html">source list 制作方法</a></li>
</ol>
<p>apt-get upgrade 只是升级到当前的软件到最新版本， apt-get dist-upgrade,升级到大版本。
或者用 <strong class="command">sudo do-release-upgrade</strong></p>
</div>
<div class="section" id="id9">
<h1>安装列表<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h1>
<p><strong class="command">apt-get install $(grep -vE &quot;^s*#&quot;|tr &quot;n&quot; '')</strong>
<a class="reference external" href="http://askubuntu.com/questions/252734/apt-get-mass-install-packages-from-a-file">http://askubuntu.com/questions/252734/apt-get-mass-install-packages-from-a-file</a></p>
</div>
<div class="section" id="dpkg">
<h1>dpkg<a class="headerlink" href="#dpkg" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>查询包 <strong class="command">dpkg -l |grep vnc</strong></li>
<li>删除   <strong class="command">dpkg -r vnc</strong></li>
<li>查看依赖 <strong class="command">apt-cache depends packagename</strong></li>
<li>查看安装了哪些文件 <a href="#id10"><span class="problematic" id="id11">:commmand:`dpkg -L packagename`</span></a></li>
</ol>
</div>
<div class="section" id="id12">
<h1>安装位置的选择<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h1>
<p>usr is stand for unix system resource,
<a class="reference external" href="http://askubuntu.com/questions/1148/what-is-the-best-place-to-install-user-apps">http://askubuntu.com/questions/1148/what-is-the-best-place-to-install-user-apps</a>
如果只是zip包 standalone App，可以直接使用就放在/opt下面。</p>
</div>
<div class="section" id="id13">
<h1>下一代包管理器<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://nixos.org/nix/">https://nixos.org/nix/</a></p>
<div class="section" id="id14">
<h2>如何快速的制作一个linux系统<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">在一个现在系统上直接把系统文件打包</p>
<div class="highlight-bash"><div class="highlight"><pre>$tar cvzf suse11_sp3.tgz bin boot etc lib lib64 opt root sbin selinux srv usr var
tar -czpf --one-file-system / <span class="p">|</span> ssh name@hostname <span class="s2">&quot;(cat &gt;ssh_systemrootfs.tgz)&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">在目标机上直接硬盘分区格式化，然后解压</p>
<div class="highlight-bash"><div class="highlight"><pre>$ tar xvf suse11_sp3.tgz
</pre></div>
</div>
</li>
<li><p class="first">并创建那些动态的目录</p>
<div class="highlight-bash"><div class="highlight"><pre>@mkdir dev media mnt proc tmp
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" start="4">
<li><p class="first">然后启动盘来修复起动项</p>
<div class="highlight-bash"><div class="highlight"><pre>$restore grub,
mount /dev/sda1 /mnt/sda1
grub-install --boot-directory<span class="o">=</span>/mnt/sda1/boot /dev/sda1 --force
grub-mkconfig -o /mnt/sda1/boot/grub.cfg
</pre></div>
</div>
<ol class="arabic simple">
<li><a class="reference external" href="http://linux.chinaunix.net/docs/2007-04-03/4110.shtml">使用官方Ubuntu软件库构建DVD镜像</a></li>
<li><a class="reference external" href="Get:3http://us.archive.ubuntu.com/ubuntu/precise/universelibstroke0amd640.5.1-6&amp;#91;9,590B]">linux release server</a></li>
<li><a class="reference external" href="http://linuxtoy.org/archives/use-zsync-to-update-existing-iso-images.html">利用 Zsync 更新已有的 Ubuntu ISO 镜像</a>  <a class="reference external" href="http://zsync.moria.org.uk/">http://zsync.moria.org.uk/</a></li>
<li><a class="reference external" href="http://zh.wikipedia.org/wiki/Jigdo">Jigdo（&amp;#34;Jigsaw download&amp;#34;，曲线下载）是为Debian包设计的下载工具，可以从几个镜像站点下载不同的文件，然后再生成一个CD镜像</a></li>
<li><a class="reference external" href="http://zealtea.yo2.cn/articles/metalink.html">metalink</a></li>
<li><a class="reference external" href="http://hi.baidu.com/wy975740772/item/4d44bc092c64b53df3eafcf2">ubuntu alternate版和desktop版区别&amp;#95;</a></li>
<li><a class="reference external" href="http://refspecs.linuxfoundation.org/lsb.shtml">lsb standard</a></li>
</ol>
<p>#. <a class="reference external" href="http://www.4wei.cn/archives/1001458/comment-page-1">中文支持</a>
Grub2AndBootup.rst</p>
</li>
</ol>
</div>
</div>
<div class="section" id="install">
<h1>install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h1>
<p>所有安装最终操作就是copy文件，并且配制正确的权限与属性，以及根据系统的环境，向系统注册一些信息，或者添加环境变量。  所以纯手工的操作那就是cp+chown,chmod+strip 等等。 而在 install 一条命令就把这些全度搞定了。
<a class="reference external" href="http://unix.stackexchange.com/questions/94679/what-is-the-purpose-of-the-install-command">http://unix.stackexchange.com/questions/94679/what-is-the-purpose-of-the-install-command</a></p>
</div>
<div class="section" id="ubuntu">
<h1>ubuntu 发行光盘的制作<a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h1>
<p>现在对于linux的整个框架熟悉了之后，再怎么操作，就容易了，也就是那些stage3 tarball就看你怎么安装了。 用什么介质就要使用对应的格式。 例如光盘格式 sqfs 就是为方面其把从光盘放进内存里。 或者其他的.img格式。直接放在哪里，然后直接chroot启动，或者chroot之后再更新。或者可以在 android 的源码中可以找到各种工具  /build/tools/XXX。 例如img 解压，对比工具等等。</p>
<p>至于采用什么格式，还得看启动kernel支持哪种类型，一般都会支持sqfs格式的。</p>
<p>由于ISO文件中只读，于是不能写入。 于是就有casper-rw 的功能，实际就是在系统里默认mount这个目录，利用autofs,unionfs的功能http://unionfs.filesystems.org/  就实现了这个功能。也就是在USB生成一个casper-rw的文件。 并利用mkfs -f 把这个文件当做系统格式化。 dd 来生成这样一个文件。
#. <a class="reference external" href="http://www.syslinux.org/wiki/index.php/ISOLINUX">http://www.syslinux.org/wiki/index.php/ISOLINUX</a>
#. <a class="reference external" href="http://unix.stackexchange.com/questions/122832/how-to-use-casper-rw-file-for-persistance">http://unix.stackexchange.com/questions/122832/how-to-use-casper-rw-file-for-persistance</a>
#. <a class="reference external" href="https://help.ubuntu.com/community/LiveCDCustomization">https://help.ubuntu.com/community/LiveCDCustomization</a>
#. <a class="reference external" href="http://lifehacker.com/5085405/make-any-linux-directory-into-an-iso-file">http://lifehacker.com/5085405/make-any-linux-directory-into-an-iso-file</a></p>
<p>而casper,ubuntu 等这些用户都是动态创建的。主要过程那就是/casper/filesystem.squashfs 的制作与修改。
而起动时需要initrd.lz 以及其修改。当然也可以利用ubuntu Customization Kit.
<a class="reference external" href="https://help.ubuntu.com/community/LiveCD/Persistence">https://help.ubuntu.com/community/LiveCD/Persistence</a> 原来创建一个Casper-rw 文件来进行存储，这个大小
还是可以重定义的。</p>
<p>preseed 目录是用来存放预配置文件。</p>
<p>实现也是采用grub来起动的。</p>
</div>
<div class="section" id="creat-bootable-usb">
<h1>Creat bootable usb<a class="headerlink" href="#creat-bootable-usb" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Download syslinux on windows</dt>
<dd><p class="first last"><a class="reference external" href="http://www.kernel.org/pub/linux/utils/boot/syslinux/syslinux-4.04.zip">http://www.kernel.org/pub/linux/utils/boot/syslinux/syslinux-4.04.zip</a></p>
</dd>
</dl>
<ol class="arabic simple" start="2">
<li>Format USB stick in fat32</li>
<li>Copy syslinux.exe to &lt;usb&gt;/boot/syslinux</li>
<li>boot
cd &lt;usb&gt;bootsyslinux
syslinux.exe -ma -d /boot/syslinux &lt;usb driver letter:&gt;</li>
<li>find these files and copy to &lt;usb&gt;bootsyslinux
memdisk                   引导IMG镜像的文件
vesamenu.c32               二种窗口模块之一
menu.c32                   二种窗口模块之一
chain.c32                   指定分区启动  如：chain.c32 hd0,1 (或chain.c32    hd1,1)
reboot.c32                  重新启动计算机</li>
<li>Create an empty file named livecd in usb root</li>
</ol>
</li>
</ol>
<p><a class="reference external" href="http://www.ubuntu.com/download/help/create-a-usb-stick-on-windows">create-a-usb-stick-on-windows</a></p>
<div class="highlight-bash"><div class="highlight"><pre>cat ***ISO  &gt;/dev/sdb <span class="p">;</span>sync
</pre></div>
</div>
</div>
<div class="section" id="network-install">
<h1>network install<a class="headerlink" href="#network-install" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="id16">
<h1>思考<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.linuxidc.com/linux/2011-02/31947.htm">Start NFS server on Ubuntu</a>   <a class="reference external" href="FileSystem">filesystem</a></p>
</div>
<div class="section" id="install-nfs-on-ubuntu">
<h1>Install NFS on Ubuntu<a class="headerlink" href="#install-nfs-on-ubuntu" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><p class="first">sudo apt-get install nfs-kernel-server</p>
</li>
<li><p class="first">Edit /etc/exports, add line at the end of file:</p>
<div class="highlight-bash"><div class="highlight"><pre>/home/tss3st  *<span class="o">(</span>rw,sync,no_root_squash<span class="o">)</span>
</pre></div>
</div>
</li>
</ol>
<p><a href="#id17"><span class="problematic" id="id18">**</span></a></p>
<ol class="arabic">
<li><p class="first">Restart NFS service</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo service portmap restart
sudo service nfs-kernel-server restart
showmount -e
</pre></div>
</div>
</li>
</ol>
<p>### Mount A:/home/A/ on Solaris</p>
<ol class="arabic simple">
<li>Login to B as user &#8220;root&#8221;</li>
<li>Create directory:</li>
</ol>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mkdir -p /mnt/svlinux01/home/A/</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li>Mount:</li>
</ol>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>mount -F nfs -o rw A:/home/A/   /mnt/A/home/A</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>fs-nts3  &lt;IP&gt;:/remotepathin_etc_exports &lt;localPath&gt;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="4">
<li>Chmod:</li>
</ol>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>chmod 777 /mnt/A/home/A/automation/mail/</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="5">
<li>Create soft link:</li>
</ol>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ln -s /mnt/svlinux01/home/A/automation/mail/ /home/A/WWW/automation/mail/</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p><em>Mount and chmod on each Solaris</em>
For all Solaris which we run NEAT, we need to mount this directory to local /mnt directory and chmod for it:</p>
<p><em>双系统看不到起动菜单</em>
自己来搞grub,或者把linux先装一下，再然后再重装一下就Ok了。再次重装的时候，它会识别出两个系统就会自动去做。</p>
<p>&#8211; Main.GangweiLi - 15 Jan 2013</p>
<p><em>vmware share folder</em> linux 下的目录是 /mnt/hgfs</p>
<p>&#8211; Main.GangweiLi - 15 Jan 2013</p>
<p><em>如何快速部署linux</em>
1. 使用dd, 或者类似于ghost东西，把一个硬件快速复制另一个硬件，然后拿去直接启动使用，但是windows7要把设置成初始安装模式，这样才能启动，因为它的启动会去读硬盘信息。</p>
<p>&#8211; Main.GangweiLi - 15 Jan 2013</p>
<div class="section" id="sudo">
<h2>使用户具有sudo功能<a class="headerlink" href="#sudo" title="Permalink to this headline">¶</a></h2>
<p>addsuer &#8220;victor&#8221;
sudo usermod -G adm -a victor
vim /etc/sudoers     copy root to a new line change root to victor</p>
<p><em>backup and restore</em></p>
<p>when backup and restore, there is three things to know:
%BROWN%
#.  size of data
#.  start address, in another way where is it?
#. what type of the data. do we need now the internal structure, due to some manipulation on the data is base on its internal structure ,that&#8217;s the type.
%ENDCOLOR%
there is some way:
dd   directly copy sectors to the harddisk. but how the dd know the how many the space is used.
partclone   can do the backup and restore base on the partition. and it know many space is used.</p>
<p>&#8211; Main.GangweiLi - 28 Mar 2013</p>
<p><em>Configuration structure</em>
Now, most of the big application use configuration. and these configuration mechanism should have <em>include</em>, so that there is structure:</p>
<dl class="docutils">
<dt>/etc/ld.so.conf</dt>
<dd>include /etc/ld.so.conf.d/XX.conf</dd>
<dt>/etc/ld.so.conf.d/</dt>
<dd>XXXXXXXXX.conf
AAAAAAA.conf</dd>
</dl>
<p>&#8211; Main.GangweiLi - 14 Apr 2013</p>
<p><em>file operation</em>
each one type of archive file, would support XXgrep,XXcat,xxxfind,xxxless.</p>
<p>???BLOCK MISSING</p>
</div>
</div>
<div class="section" id="can-t-resolve-dns">
<h1>can&#8217;t resolve dns<a class="headerlink" href="#can-t-resolve-dns" title="Permalink to this headline">¶</a></h1>
<p>只需要设置一下DNS，就是 <em>/etc/resolve.conf</em></p>
<p>常见的配置</p>
<div class="highlight-bash"><div class="highlight"><pre>nameserver 127.0.1.1
search nvidia.com
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h1>如何修复系统<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://help.ubuntu.com/community/LiveCdRecovery">https://help.ubuntu.com/community/LiveCdRecovery</a></p>
<ol class="arabic">
<li><p class="first">livecd 起动</p>
</li>
<li><p class="first">chroot to harddisk</p>
<div class="highlight-bash"><div class="highlight"><pre>mount /sda2 /mnt/sda2
mount -t proc /proc /mnt/sda2/proc
mount --rbind /sys /mnt/sda2/sys
mount --make-rslave /mnt/sda2/sys
mount --rbind /dev /mnt/sda2/dev
mount --make-rslave /mnt/sda2/dev

chroot /mnt/sda2 /bin/bash

<span class="c1">#open 2nd terminal</span>
cat /etc/resolve.conf /mnt/sda2/etc/resolve.conf
apt remove &lt;bad package&gt;
apt autoremove
apt update
apt install &lt;right packages&gt;
<span class="c1">#apt install linux-generic</span>
apt upgrade
</pre></div>
</div>
</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">linux 和选择</a></li>
<li><a class="reference internal" href="#usb">usb 启动盘制作</a><ul>
<li><a class="reference internal" href="#software-install-apt-get">software install apt-get</a></li>
<li><a class="reference internal" href="#pgp-key-error-key">如果出现 出现PGP key error 缺 key</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">如何修复依赖破坏的包</a></li>
<li><a class="reference internal" href="#id2">多版本安装</a></li>
<li><a class="reference internal" href="#id3">如何自动添加编译的包</a></li>
<li><a class="reference internal" href="#deb">如果想添加不同架构的deb</a></li>
<li><a class="reference internal" href="#package">如何安装新版本上的package</a></li>
<li><a class="reference internal" href="#id4">如何保持一个包不更新</a></li>
<li><a class="reference internal" href="#troubleshot">如何troubleshot 包管理</a></li>
<li><a class="reference internal" href="#id5">如何查看所有可用更新</a></li>
<li><a class="reference internal" href="#id6">源列表格式</a></li>
<li><a class="reference internal" href="#id9">安装列表</a></li>
<li><a class="reference internal" href="#dpkg">dpkg</a></li>
<li><a class="reference internal" href="#id12">安装位置的选择</a></li>
<li><a class="reference internal" href="#id13">下一代包管理器</a><ul>
<li><a class="reference internal" href="#id14">如何快速的制作一个linux系统</a></li>
</ul>
</li>
<li><a class="reference internal" href="#install">install</a></li>
<li><a class="reference internal" href="#ubuntu">ubuntu 发行光盘的制作</a></li>
<li><a class="reference internal" href="#creat-bootable-usb">Creat bootable usb</a></li>
<li><a class="reference internal" href="#network-install">network install</a></li>
<li><a class="reference internal" href="#id16">思考</a></li>
<li><a class="reference internal" href="#install-nfs-on-ubuntu">Install NFS on Ubuntu</a><ul>
<li><a class="reference internal" href="#sudo">使用户具有sudo功能</a></li>
</ul>
</li>
<li><a class="reference internal" href="#can-t-resolve-dns">can&#8217;t resolve dns</a></li>
<li><a class="reference internal" href="#id19">如何修复系统</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/content/Stage_1/LinuxInstall.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">My Linux 0.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, gangwei.li.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>